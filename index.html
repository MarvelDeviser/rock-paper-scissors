<!DOCTYPE html>
<html>
<body>

<script>

const plays = ['Rock', 'Paper', 'Scissors']

function computerPlay() {
  // random number from 0 to 2, to index the plays array with
  let x = Math.floor((Math.random() * 3));
  return plays[x];
}

function playRound(playerSelection, computerSelection) {
  let toProperCase = (str) => str[0].toUpperCase() + str.substr(1).toLowerCase();
  playerSelection = toProperCase(playerSelection);
  computerSelection = toProperCase(computerSelection);

  let playerIndex = plays.indexOf(playerSelection);
  let computerIndex = plays.indexOf(computerSelection);

  if (playerSelection == computerSelection) {
    return "It's a tie!";
  }
  else if ((playerIndex == 0 && computerIndex == 2) || (playerIndex > 0 && playerIndex == computerIndex + 1)) {
    return "You Win! " + playerSelection + " beats " + computerSelection;
  }
  else {
    return "You Lose! " + computerSelection + " beats " + playerSelection;
  }

}

function game() {
  let round = 1;
  let playerScore = 0;
  let computerScore = 0;

  while (round <= 5) {
    console.log(round)
    let playerSelection = prompt("Let's play Rock, Paper, Scissors! Type your play here:");
    let computerSelection = computerPlay();
    console.log("vs. " + computerSelection)
    result = playRound(playerSelection, computerSelection);
    console.log(result)
    if (result.includes("Win")) {
      playerScore ++;
    }
    else if (result.includes("Lose")) {
      computerScore ++;
    }
    round ++;
  }

  if (playerScore == computerScore) {
    console.log("You tied the game! " + playerScore + ":" + computerScore)
  }
  else if (playerScore > computerScore) {
    console.log("You won the game! :) " + playerScore + ":" + computerScore)
  }
  else {
    console.log("You lost the game! :( " + playerScore + ":" + computerScore)
  }

}

game()

</script>

</body>
</html>
